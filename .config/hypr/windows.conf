# Global opacity setting
windowrule {
  name = global-opacity
  match:class = .*
  opacity = 1 1
}

# Clipse clipboard manager
windowrule {
  name = clipse-float
  match:class = com.clipse.clipse
  float = on
  size = 800 652
}

# Place apps on specific workspaces
# Workspace layout:
# - Samsung (HDMI-A-1 / primary): 1-7
# - Dell (HDMI-A-2 / secondary): 8-14 (local 1-7)

# Telegram on Dell local workspace 2
windowrule {
  name = telegram-workspace
  match:class = ^(org.telegram.desktop)$
  workspace = 9
}

# Games on Dell (secondary) - local workspace 5
windowrule {
  name = throne-workspace
  match:class = ^(Throne)$
  workspace = 12
  float = on
  size = 800 600
  center = on
}

# Steam (on Dell / secondary)
# Dell local 6 => real workspace 13
windowrule {
  name = steam-workspace
  match:class = ^(steam)$
  workspace = 13
}

windowrule {
  name = steam-friends-float
  match:class = ^(steam)$
  match:title = ^(Friends List)$
  float = on
}

# Factorio
windowrule {
  name = factorio-fullscreen
  match:class = ^(factorio)$
  workspace = 7
  fullscreen = on
}

# Strudel REPL - force tiling (disable floating)
# Tag Chromium-browser as chromium-based-browser (fixes Puppeteer launched browsers)
windowrule {
  name = chromium-tag
  match:class = Chromium-browser
  tag = +chromium-based-browser
}

windowrule {
  name = strudel-repl-tile
  match:title = ^(Strudel REPL)$
  tile = on
}

windowrule {
  name = strudel-chromium-tile
  match:class = ^(Chromium-browser)$
  match:title = ^(strudel.cc)$
  tile = on
}

windowrule {
  name = strudel-initial-tile
  match:initial_title = ^(strudel.cc)$
  tile = on
}

misc {
  focus_on_activate = false
}

# Floating windows with specific tag
windowrule {
  name = floating-window-float
  match:tag = floating-window
  float = on
  center = on
  size = 875 600
}

# System TUIs (btop, Wi-Fi, Bluetooth)
windowrule {
  name = btop-floating
  match:class = ^(sys\.btop)$
  tag = +floating-window
}

windowrule {
  name = impala-floating
  match:class = ^(sys\.impala)$
  tag = +floating-window
}

windowrule {
  name = nmtui-floating
  match:class = ^(sys\.nmtui)$
  tag = +floating-window
}

windowrule {
  name = bluetui-floating
  match:class = ^(sys\.bluetui)$
  tag = +floating-window
}

# 1Password
windowrule {
  name = 1password-noscreenshare
  match:class = ^(1[p|P]assword)$
  no_screen_share = on
  tag = +floating-window
}

